
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content ="CS 61A: Structure and Interpretation of Computer Programs" />
    <meta name="keywords" content ="Computer Science, Programming, Berkeley, EECS" />
    <meta name="author" content ="John DeNero, Kay Ousterhout" />
    <!-- CHANGED CAREFUL -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="/assets/js/hl.js"></script>
    <script src="/assets/js/toggledarkmode.js"></script>
    <script>
        // we aren't registering builtins since
        //      (1) they don't render differently in the current CSS from other names
        //      (2) it's a mess to list all of them. You can extract from the site but that takes effort
        // if (1) ceases to be true, (2) might be worth the effort. For now, we're leaving as is
        hljsRegister({
            'keyword': "define if cond and or let begin lambda mu quote delay cons-stream set! quasiquote unquote unquote-splicing define-macro"
        });
        hljs.initHighlightingOnLoad();
    </script>
    <script src="/assets/js/dark-mode.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Roboto:300,400,500|Work+Sans:400,700">
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/mono-blue.css">
    <link rel="icon" href="/assets/images/favicon.ico">

    

<link rel="stylesheet" type="text/css" href="/assets/css/hw.css">


    <title>
Homework 6 | CS 61A Fall 2025
</title>
  </head>

  <body id="index" class="home">
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container noselect">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section" aria-label="Toggle Navigation Bar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">
            CS 61A
            <!-- <img style="max-width:60px; margin-top: -20px;" class="logo" src="/assets/images/logo.png"/> -->
          </a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">

            
            <li><a href="/">Lectures</a></li>
            
            <li><a href="/articles/about-61a/">Syllabus</a></li>
            
            <li><a href="https://edstem.org/us/courses/82739/discussion">Ed</a></li>
            
            <li><a href="/office-hours/">Office Hours</a></li>
            
            <li><a href="/articles/contact-61a/">Contact</a></li>
            

            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Links
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="https://go.cs61a.org/extensions">Request an Extension</a></li>
                
                <li><a href="https://go.cs61a.org/regrades">Request a Regrade</a></li>
                
                <li><a href="https://oh.cs61a.org/">Office Hours Queue</a></li>
                
                <li><a href="">Gradescope</a></li>
                
                <li><a href="https://sections.cs61a.org">Add/Change Sections</a></li>
                
                <li><a href="https://bcourses.berkeley.edu/courses/1547573/pages">Lecture Recordings</a></li>
                
                <li><a href="https://pythontutor.com/cp/composingprograms.html">Python Tutor</a></li>
                
                <li><a href="https://code.cs61a.org/">Code Editors</a></li>
                
              </ul>
            </li>
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="/resources/">Past Exams & Websites</a></li>
                
                <li><a href="https://www.composingprograms.com">Textbook</a></li>
                
                <li><a href="/articles/campus-res/">Campus Resources</a></li>
                
                <li><a href="/articles/advice/">Advice from Students</a></li>
                
                <li><a href="/articles/scheme-spec/">Scheme Specifications</a></li>
                
                <li><a href="/articles/scheme-builtins/">Scheme Built-In Procedures</a></li>
                
              </ul>
            </li>
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Guides
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="https://drive.google.com/file/d/1O72u0ml65pibcjz-PXKpqeJDKaVqQ3D8/view">Debugging Guide</a></li>
                
                <li><a href="/articles/studying/">Studying Guide</a></li>
                
                <li><a href="/articles/type-hints/">Type Hints</a></li>
                
                <li><a href="/articles/composition/">Composition Guide</a></li>
                
                <li><a href="/assets/pdfs/61a-mt1-study-guide.pdf">MT1 Study Guide</a></li>
                
                <li><a href="/assets/pdfs/61a-mt2-study-guide.pdf">MT2 Study Guide</a></li>
                
                <li><a href="/assets/pdfs/61a-final-study-guide.pdf">Final Study Guide</a></li>
                
              </ul>
            </li>
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Staff
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="/instructor">Instructors</a></li>
                
                <li><a href="/staff">TAs & Tutors</a></li>
                
                <li><a href="/academic-interns">Academic Interns</a></li>
                
              </ul>
            </li>
            

          </ul>
        </div>
      </div>
    </nav>

    <main id="content" class="container">
      
<div class='row'>
  <div class='col-md-9'>
    <header>
      <h1>
        
Homework 6: OOP, Linked Lists, Mutable Trees

        
        
        <ul class="inline-block list-inline">
          <li><a href="hw06.zip" class="label label-outline">hw06.zip</a></li>
        </ul>
        
        
      </h1>
    </header>
    

<p><em>Due by 11:59pm on Thursday, October 23</em></p>





<h2>Instructions</h2>

<p>This homework is quite long, it's in your best interest to start early.
Download <a href="hw06.zip">hw06.zip</a>. Inside the archive, you will find a file called
<a href="hw06.py">hw06.py</a>, along with a copy of the <code>ok</code> autograder.</p>

<p>
  <strong>Submission:</strong> When you are done, submit the assignment to Pensieve. You may submit more than once before the deadline; only the
  final submission will be scored. Check that you have successfully submitted
  your code on Pensieve.

  See <a href="/lab/lab00">Lab 0</a> for more instructions on submitting assignments.
</p>

<p><strong>Using Ok:</strong> If you have any questions about using Ok, please
refer to <a href="/articles/using-ok">this guide.</a>



<p><strong>Grading:</strong> Homework is graded based on
correctness. Each incorrect problem will decrease the total score by one point.
<strong>This homework is out of 2 points.</strong>




    
<h1 id="required-questions">Required Questions</h1>


<br>

        <button id='toggle-1' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Getting Started Videos<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-1">

<h2 id="getting-started-videos" class="no-toc">Getting Started Videos</h2>


<p>These videos may provide some helpful direction for tackling the coding
problems on this assignment.</p>

<blockquote><p>To see these videos, you should be logged into your berkeley.edu email.</p></blockquote>


            <iframe width="560" height="315" src="https://youtube.com/embed/videoseries?list=PLx38hZJ5RLZdSpttLVwkb68GhVWSHAQrn"
                frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" aria-label = "hw6-getstarted"
                allowfullscreen></iframe><p><a href='https://youtu.be/playlist?list=PLx38hZJ5RLZdSpttLVwkb68GhVWSHAQrn'> YouTube link </a></p>
</div>


<h2 id="oop">OOP</h2>


<h3 id="q1-vending-machine">Q1: Vending Machine</h3>


<p>In this question you'll create a <a href="https://en.wikipedia.org/wiki/Vending_machine">vending machine</a> that sells a single product and provides change when needed.</p>

<p>Implement the <code>VendingMachine</code> class, which models a vending machine for one specific product.
The methods of a <code>VendingMachine</code> object return strings to describe the machine’s status and operations.
Ensure that your output matches <em>exactly</em> with the strings provided in the doctests, including punctuation and spacing.</p>

<blockquote><p>You may find Python's formatted string literals, or <a href="https://docs.python.org/3/tutorial/inputoutput.html#fancier-output-formatting">f-strings</a> useful.
A quick example:</p>

<pre><code>&gt;&gt;&gt; feeling = &#x27;love&#x27;
&gt;&gt;&gt; course = &#x27;CS 61A!&#x27;
&gt;&gt;&gt; combined_string = f&#x27;I {feeling} {course}&#x27;
&gt;&gt;&gt; combined_string
&#x27;I love CS 61A!&#x27;</code></pre></blockquote>

<solution>

<pre><code>class VendingMachine:
    &quot;&quot;&quot;A vending machine that vends some product for some price.

    &gt;&gt;&gt; v = VendingMachine(&#x27;candy&#x27;, 10)
    &gt;&gt;&gt; v.vend()
    &#x27;Nothing left to vend. Please restock.&#x27;
    &gt;&gt;&gt; v.add_funds(15)
    &#x27;Nothing left to vend. Please restock. Here is your $15.&#x27;
    &gt;&gt;&gt; v.restock(2)
    &#x27;Current candy stock: 2&#x27;
    &gt;&gt;&gt; v.vend()
    &#x27;Please add $10 more funds.&#x27;
    &gt;&gt;&gt; v.add_funds(7)
    &#x27;Current balance: $7&#x27;
    &gt;&gt;&gt; v.vend()
    &#x27;Please add $3 more funds.&#x27;
    &gt;&gt;&gt; v.add_funds(5)
    &#x27;Current balance: $12&#x27;
    &gt;&gt;&gt; v.vend()
    &#x27;Here is your candy and $2 change.&#x27;
    &gt;&gt;&gt; v.add_funds(10)
    &#x27;Current balance: $10&#x27;
    &gt;&gt;&gt; v.vend()
    &#x27;Here is your candy.&#x27;
    &gt;&gt;&gt; v.add_funds(15)
    &#x27;Nothing left to vend. Please restock. Here is your $15.&#x27;

    &gt;&gt;&gt; w = VendingMachine(&#x27;soda&#x27;, 2)
    &gt;&gt;&gt; w.restock(3)
    &#x27;Current soda stock: 3&#x27;
    &gt;&gt;&gt; w.restock(3)
    &#x27;Current soda stock: 6&#x27;
    &gt;&gt;&gt; w.add_funds(2)
    &#x27;Current balance: $2&#x27;
    &gt;&gt;&gt; w.vend()
    &#x27;Here is your soda.&#x27;
    &quot;&quot;&quot;
    def __init__(self, product: str, price: int):
        &quot;&quot;&quot;Set the product and its price, as well as other instance attributes.&quot;&quot;&quot;
        "*** YOUR CODE HERE ***"

    def restock(self, n: int) &#x2d;&gt; str:
        &quot;&quot;&quot;Add n to the stock and return a message about the updated stock level.

        E.g., Current candy stock: 3
        &quot;&quot;&quot;
        "*** YOUR CODE HERE ***"

    def add_funds(self, n: int) &#x2d;&gt; str:
        &quot;&quot;&quot;If the machine is out of stock, return a message informing the user to restock
        (and return their n dollars).

        E.g., Nothing left to vend. Please restock. Here is your $4.

        Otherwise, add n to the balance and return a message about the updated balance.

        E.g., Current balance: $4
        &quot;&quot;&quot;
        "*** YOUR CODE HERE ***"

    def vend(self) &#x2d;&gt; str:
        &quot;&quot;&quot;Dispense the product if there is sufficient stock and funds and
        return a message. Update the stock and balance accordingly.

        E.g., Here is your candy and $2 change.

        If not, return a message suggesting how to correct the problem.

        E.g., Nothing left to vend. Please restock.
              Please add $3 more funds.
        &quot;&quot;&quot;
        "*** YOUR CODE HERE ***"
</code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q VendingMachine<button id="copy-code-python3ok-qVendingMachine" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qVendingMachine").onclick = () => copyCode('python3 ok -q VendingMachine', "copy-code-python3ok-qVendingMachine");
        </script>
        <br/>


<h2 id="linked-lists">Linked Lists</h2>



        <button id='toggle-2' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Linked Lists<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-2">
A linked list is a data structure for storing a sequence of values. It is more
efficient than a regular built-in list for certain operations, such as inserting
a value in the middle of a long list. Linked lists are not built in, and so we
define a class called <code>Link</code> to represent them. 
A linked list is either a <code>Link</code> instance or <code>Link.empty</code> 
(which represents an empty linked list).

<p>A instance of <code>Link</code> has two instance attributes, <code>first</code> and <code>rest</code>.</p>

<p>The <code>rest</code> attribute of a <code>Link</code> instance should always be a linked list: either
another <code>Link</code> instance or <code>Link.empty</code>. It SHOULD NEVER be <code>None</code>.</p>

<p>To check if a linked list is empty, compare it to <code>Link.empty</code>. Since there is only
ever one empty list, we can use <code>is</code> to compare, but <code>==</code> would work too.</p>

<pre><code>def is_empty(s):
    &quot;&quot;&quot;Return whether linked list s is empty.&quot;&quot;&quot;
    return s is Link.empty:</code></pre>

<p>You can mutate a <code>Link</code> object <code>s</code> in two ways:</p>

<ul>
  <li>Change the first element with <code>s.first = ...</code></li>
  <li>Change the rest of the elements with <code>s.rest = ...</code></li>
</ul>

<p>You can make a new <code>Link</code> object by calling <code>Link</code>:</p>

<ul>
  <li><code>Link(4)</code> makes a linked list of length 1 containing 4.</li>
  <li><code>Link(4, s)</code> makes a linked list that starts with 4 followed by the elements of linked list <code>s</code>.
  </div></li>
</ul>


<h3 id="q2-store-digits">Q2: Store Digits</h3>


<p>Write a function <code>store_digits</code> that takes in an integer <code>n</code> and returns
a linked list containing the digits of <code>n</code> in the same order (from left to right).</p>

<blockquote><p><strong>Important</strong>: Do not use any string manipulation functions, such as <code>str</code> or <code>reversed</code>.</p></blockquote>

<solution>

<pre><code>def store_digits(n: int):
    &quot;&quot;&quot;Stores the digits of a positive number n in a linked list.

    &gt;&gt;&gt; s = store_digits(1)
    &gt;&gt;&gt; s
    Link(1)
    &gt;&gt;&gt; store_digits(2345)
    Link(2, Link(3, Link(4, Link(5))))
    &gt;&gt;&gt; store_digits(876)
    Link(8, Link(7, Link(6)))
    &gt;&gt;&gt; store_digits(2450)
    Link(2, Link(4, Link(5, Link(0))))
    &gt;&gt;&gt; store_digits(20105)
    Link(2, Link(0, Link(1, Link(0, Link(5)))))
    &gt;&gt;&gt; # a check for restricted functions
    &gt;&gt;&gt; import inspect, re
    &gt;&gt;&gt; cleaned = re.sub(r&quot;#.*\\n&quot;, &#x27;&#x27;, re.sub(r&#x27;&quot;{3}[\s\S]*?&quot;{3}&#x27;, &#x27;&#x27;, inspect.getsource(store_digits)))
    &gt;&gt;&gt; print(&quot;Do not use str or reversed!&quot;) if any([r in cleaned for r in [&quot;str&quot;, &quot;reversed&quot;]]) else None
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"
</code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q store_digits<button id="copy-code-python3ok-qstore_digits" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qstore_digits").onclick = () => copyCode('python3 ok -q store_digits', "copy-code-python3ok-qstore_digits");
        </script>
        <br/>


<h3 id="q3-mutable-mapping">Q3: Mutable Mapping</h3>


<p>Implement <code>deep_map_mut(func, s)</code>, which applies the function <code>func</code> to each
element in the linked list <code>s</code>. If an element is itself a linked list,
recursively apply <code>func</code> to its elements as well.</p>

<p>Your implementation should <em>mutate</em> the original linked list. <strong>Do not
create any new linked lists.</strong> The function returns <code>None</code>.</p>

<blockquote><p><strong>Hint</strong>: You can use the built-in <code>isinstance</code> function to determine if an element is a linked list.</p>

<pre><code>&gt;&gt;&gt; s = Link(1, Link(2, Link(3, Link(4))))
&gt;&gt;&gt; isinstance(s, Link)
True
&gt;&gt;&gt; isinstance(s, int)
False</code></pre></blockquote>

<!-- separator for the indent blocks -->

<blockquote><p><strong>Construct Check</strong>: The final test case for this problem checks
that your function does not create any new linked lists.
If you are failing this doctest, make sure that you are not
creating link lists by calling the constructor, i.e.</p>

<pre><code>s = Link(1)</code></pre></blockquote>

<solution>

<pre><code>def deep_map_mut(func, s: Link) &#x2d;&gt; None:
    &quot;&quot;&quot;Mutates a deep link s by replacing each item found with the
    result of calling func on the item. Does NOT create new Links (so
    no use of Link&#x27;s constructor).

    Does not return the modified Link object.

    &gt;&gt;&gt; link1 = Link(3, Link(Link(4), Link(5, Link(6))))
    &gt;&gt;&gt; square = lambda x: x * x
    &gt;&gt;&gt; print(link1)
    (3 (4) 5 6)
    &gt;&gt;&gt; link2 = Link(1, Link(Link(Link(2, Link(3))), Link(4)))
    &gt;&gt;&gt; double = lambda x: x * 2
    &gt;&gt;&gt; print(link2)
    (1 ((2 3)) 4)
    &gt;&gt;&gt; # Disallow the use of making new Links before calling deep_map_mut
    &gt;&gt;&gt; Link.__init__, hold = lambda *args: print(&quot;Do not create any new Links.&quot;), Link.__init__
    &gt;&gt;&gt; try:
    ...     deep_map_mut(square, link1)
    ...     deep_map_mut(double, link2)
    ... finally:
    ...     Link.__init__ = hold
    &gt;&gt;&gt; print(link1)
    (9 (16) 25 36)
    &gt;&gt;&gt; print(link2)
    (2 ((4 6)) 8)
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"
</code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q deep_map_mut<button id="copy-code-python3ok-qdeep_map_mut" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qdeep_map_mut").onclick = () => copyCode('python3 ok -q deep_map_mut', "copy-code-python3ok-qdeep_map_mut");
        </script>
        <br/>


<h2 id="mutable-trees">Mutable Trees</h2>



        <button id='toggle-3' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Trees<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-3">
A <code>Tree</code> instance has two instance attributes:

<ul>
  <li><code>label</code> is the value stored at the root of the tree.</li>
  <li><code>branches</code> is a list of <code>Tree</code> instances that hold the labels in the rest of the tree.</li>
</ul>

<p>The <code>Tree</code> class (with its <code>__repr__</code> and <code>__str__</code> methods omitted) is defined as:</p>

<pre><code>class Tree:
    &quot;&quot;&quot;A tree has a label and a list of branches.

    &gt;&gt;&gt; t = Tree(3, [Tree(2, [Tree(5)]), Tree(4)])
    &gt;&gt;&gt; t.label
    3
    &gt;&gt;&gt; t.branches[0].label
    2
    &gt;&gt;&gt; t.branches[1].is_leaf()
    True
    &quot;&quot;&quot;
    def __init__(self, label, branches=[]):
        self.label = label
        for branch in branches:
            assert isinstance(branch, Tree)
        self.branches = list(branches)

    def is_leaf(self):
        return not self.branches</code></pre>

<p>To construct a <code>Tree</code> instance from a label <code>x</code> (any value) and a list of branches <code>bs</code> (a list of <code>Tree</code> instances) and give it the name <code>t</code>, write <code>t = Tree(x, bs)</code>.</p>

<p>For a tree <code>t</code>:</p>

<ul>
  <li>Its root label can be any value, and <code>t.label</code> evaluates to it.</li>
  <li>Its branches are always <code>Tree</code> instances, and <code>t.branches</code> evaluates to the <strong>list</strong> of its branches.</li>
  <li><code>t.is_leaf()</code> returns <code>True</code> if <code>t.branches</code> is empty and <code>False</code> otherwise.</li>
  <li>To construct a leaf with label <code>x</code>, write <code>Tree(x)</code>.</li>
</ul>

<p>Displaying a tree <code>t</code>:</p>

<ul>
  <li><code>repr(t)</code> returns a Python expression that evaluates to an equivalent tree.</li>
  <li><code>str(t)</code> returns one line for each label indented once more than its parent with children below their parents.</li>
</ul>

<pre><code>&gt;&gt;&gt; t = Tree(3, [Tree(1, [Tree(4), Tree(1)]), Tree(5, [Tree(9)])])

&gt;&gt;&gt; t         # displays the contents of repr(t)
Tree(3, [Tree(1, [Tree(4), Tree(1)]), Tree(5, [Tree(9)])])

&gt;&gt;&gt; print(t)  # displays the contents of str(t)
3
  1
    4
    1
  5
    9</code></pre>



<p>Changing (also known as mutating) a tree <code>t</code>:</p>

<ul>
  <li><code>t.label = y</code> changes the root label of <code>t</code> to <code>y</code> (any value).</li>
  <li><code>t.branches = ns</code> changes the branches of <code>t</code> to <code>ns</code> (a list of <code>Tree</code> instances).</li>
  <li>Mutation of <code>t.branches</code> will change <code>t</code>. For example,
  <code>t.branches.append(Tree(y))</code> will add a leaf labeled <code>y</code> as the right-most
  branch.</li>
  <li>Mutation of any branch in <code>t</code> will change <code>t</code>. For example,
  <code>t.branches[0].label = y</code> will change the root label of the left-most branch
  to <code>y</code>.</li>
</ul>

<pre><code>&gt;&gt;&gt; t.label = 3.0
&gt;&gt;&gt; t.branches[1].label = 5.0
&gt;&gt;&gt; t.branches.append(Tree(2, [Tree(6)]))
&gt;&gt;&gt; print(t)
3.0
  1
    4
    1
  5.0
    9
  2
    6</code></pre>



<p>Here is a summary of the differences between the tree data abstraction implemented as a functional abstraction vs. implemented as a class:</p>




        <div class="table-responsive">
          <table class="table table-bordered">
          
  <tr>
    <th>-</th>
    <th>Tree constructor and selector functions</th>
    <th>Tree class</th>
  </tr>
  <tr>
    <td>Constructing a tree</td>
    <td>To construct a tree given a <code>label</code> and a list of <code>branches</code>, we call <code>tree(label, branches)</code></td>
    <td>To construct a tree object given a <code>label</code> and a list of <code>branches</code>, we call <code>Tree(label, branches)</code> (which calls the <code>Tree.__init__</code> method).</td>
  </tr>
  <tr>
    <td>Label and branches</td>
    <td>To get the label or branches of a tree <code>t</code>, we call <code>label(t)</code> or <code>branches(t)</code> respectively</td>
    <td>To get the label or branches of a tree <code>t</code>, we access the instance attributes <code>t.label</code> or <code>t.branches</code> respectively.</td>
  </tr>
  <tr>
    <td>Mutability</td>
    <td>The functional tree data abstraction is immutable (without violating its abstraction barrier) because we cannot assign values to call expressions</td>
    <td>The <code>label</code> and <code>branches</code> attributes of a <code>Tree</code> instance can be reassigned, mutating the tree.</td>
  </tr>
  <tr>
    <td>Checking if a tree is a leaf</td>
    <td>To check whether a tree <code>t</code> is a leaf, we call the function <code>is_leaf(t)</code></td>
    <td>To check whether a tree <code>t</code> is a leaf, we call the method <code>t.is_leaf()</code>. This method can only be called on <code>Tree</code> objects.</td>
  </tr>

          </table>
        </div>
        


</div>


<h3 id="q4-prune-small">Q4: Prune Small</h3>


<p>Removing some nodes from a tree is called <em>pruning</em> the tree.</p>

<p>Complete the function <code>prune_small</code> that takes in a <code>Tree</code> <code>t</code> and a number <code>n</code>.
For each node with more than <code>n</code> branches, keep only the <code>n</code> branches with the
smallest labels and remove (<em>prune</em>) the rest.</p>

<blockquote><p><strong>Hint</strong>: The <code>max</code> function takes in an <code>iterable</code> as well as an optional <code>key</code> argument (which takes in a one-argument function).
For example, <code>max([&#x2d;7, 2, &#x2d;1], key=abs)</code> would return <code>&#x2d;7</code> since <code>abs(&#x2d;7)</code> is greater than <code>abs(2)</code> and <code>abs(&#x2d;1)</code>.</p></blockquote>

<solution>

<pre><code>def prune_small(t, n):
    &quot;&quot;&quot;Prune the tree mutatively, keeping only the n branches
    of each node with the smallest labels.

    &gt;&gt;&gt; t1 = Tree(6)
    &gt;&gt;&gt; prune_small(t1, 2)
    &gt;&gt;&gt; t1
    Tree(6)
    &gt;&gt;&gt; t2 = Tree(6, [Tree(3), Tree(4)])
    &gt;&gt;&gt; prune_small(t2, 1)
    &gt;&gt;&gt; t2
    Tree(6, [Tree(3)])
    &gt;&gt;&gt; t3 = Tree(6, [Tree(1), Tree(3, [Tree(1), Tree(2), Tree(3)]), Tree(5, [Tree(3), Tree(4)])])
    &gt;&gt;&gt; prune_small(t3, 2)
    &gt;&gt;&gt; t3
    Tree(6, [Tree(1), Tree(3, [Tree(1), Tree(2)])])
    &quot;&quot;&quot;
    while ____:
        largest = max(____, key=____)
        ____
    for b in t.branches:
        ____
</code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q prune_small<button id="copy-code-python3ok-qprune_small" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qprune_small").onclick = () => copyCode('python3 ok -q prune_small', "copy-code-python3ok-qprune_small");
        </script>
        <br/>


<h3 id="q5-delete">Q5: Delete</h3>


<p>Implement <code>delete</code>, which takes a Tree <code>t</code> and removes all non-root nodes labeled <code>x</code>.
The parent of each remaining node is its nearest ancestor that was not removed.
The root node is never removed, even if its label is <code>x</code>.</p>

<solution>

<pre><code>def delete(t, x):
    &quot;&quot;&quot;Remove all nodes labeled x below the root within Tree t. When a non&#x2d;leaf
    node is deleted, the deleted node&#x27;s children become children of its parent.

    The root node will never be removed.

    &gt;&gt;&gt; t = Tree(3, [Tree(2, [Tree(2), Tree(2)]), Tree(2), Tree(2, [Tree(2, [Tree(2), Tree(2)])])])
    &gt;&gt;&gt; delete(t, 2)
    &gt;&gt;&gt; t
    Tree(3)
    &gt;&gt;&gt; t = Tree(1, [Tree(2, [Tree(4, [Tree(2)]), Tree(5)]), Tree(3, [Tree(6), Tree(2)]), Tree(4)])
    &gt;&gt;&gt; delete(t, 2)
    &gt;&gt;&gt; t
    Tree(1, [Tree(4), Tree(5), Tree(3, [Tree(6)]), Tree(4)])
    &gt;&gt;&gt; t = Tree(1, [Tree(2, [Tree(4), Tree(5)]), Tree(3, [Tree(6), Tree(2)]), Tree(2, [Tree(6),  Tree(2), Tree(7), Tree(8)]), Tree(4)])
    &gt;&gt;&gt; delete(t, 2)
    &gt;&gt;&gt; t
    Tree(1, [Tree(4), Tree(5), Tree(3, [Tree(6)]), Tree(6), Tree(7), Tree(8), Tree(4)])
    &quot;&quot;&quot;
    new_branches = []
    for _________ in ________________:
        _______________________
        if b.label == x:
            __________________________________
        else:
            __________________________________
    t.branches = ___________________
</code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q delete<button id="copy-code-python3ok-qdelete" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qdelete").onclick = () => copyCode('python3 ok -q delete', "copy-code-python3ok-qdelete");
        </script>
        <br/>


<h2 id="check-your-score-locally">Check Your Score Locally</h2>

<p>You can locally check your score on each question of this assignment by running</p>

<pre><code>python3 ok &#x2d;&#x2d;score</code></pre>

<p><strong>This does NOT submit the assignment!</strong> When you are satisfied with your score, submit the assignment to Pensieve to receive credit for it.</p>

<h1 id="submit-assignment">Submit Assignment</h1>


<p>Submit this assignment by uploading any files you've edited <strong>to the appropriate Pensieve assignment.</strong> <a href="/lab/lab00">Lab 00</a> has detailed instructions.</p>


<h1 id="optional-questions">Optional Questions</h1>


<h3 id="q6-two-list">Q6: Two List</h3>


<p>Implement a function <code>two_list</code> that takes in two lists and returns a linked list. The first list contains the
values that we want to put in the linked list, and the second list contains the number of each corresponding value.
Assume both lists are the same size and have a length of 1 or greater. Assume all elements in the second list
are greater than 0.</p>

<solution>

<pre><code>def two_list(vals, counts):
    &quot;&quot;&quot;
    Returns a linked list according to the two lists that were passed in. Assume
    vals and counts are the same size. Elements in vals represent the value, and the
    corresponding element in counts represents the number of this value desired in the
    final linked list. Assume all elements in counts are greater than 0. Assume both
    lists have at least one element.
    &gt;&gt;&gt; a = [1, 3]
    &gt;&gt;&gt; b = [1, 1]
    &gt;&gt;&gt; c = two_list(a, b)
    &gt;&gt;&gt; c
    Link(1, Link(3))
    &gt;&gt;&gt; a = [1, 3, 2]
    &gt;&gt;&gt; b = [2, 2, 1]
    &gt;&gt;&gt; c = two_list(a, b)
    &gt;&gt;&gt; c
    Link(1, Link(1, Link(3, Link(3, Link(2)))))
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"
</code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q two_list<button id="copy-code-python3ok-qtwo_list" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qtwo_list").onclick = () => copyCode('python3 ok -q two_list', "copy-code-python3ok-qtwo_list");
        </script>
        <br/>


<h1 id="exam-practice">Exam Practice</h1>

<p>Homework assignments will also contain prior exam questions for you to try.
These questions have no submission component; feel free to attempt them if you'd like some practice!</p>

<p>Object-Oriented Programming</p>

<ol>
  <li>Spring 2022 MT2 Q8: <a href="https://cs61a.org/exam/sp22/mt2/61a-sp22-mt2.pdf#page=17">CS61A Presents The Game of Hoop.</a></li>
  <li>Fall 2020 MT2 Q3: <a href="https://cs61a.org/exam/fa20/mt2/61a-fa20-mt2.pdf#page=9">Sparse Lists</a></li>
  <li>Fall 2019 MT2 Q7: <a href="https://cs61a.org/exam/fa19/mt2/61a-fa19-mt2.pdf#page=8">Version 2.0</a></li>
</ol>

<p>Linked Lists</p>

<ol>
  <li>Fall 2020 Final Q3: <a href="https://cs61a.org/exam/fa20/final/61a-fa20-final.pdf#page=9">College Party</a></li>
  <li>Fall 2018 MT2 Q6: <a href="https://cs61a.org/exam/fa18/mt2/61a-fa18-mt2.pdf#page=6">Dr. Frankenlink</a></li>
  <li>Spring 2017 MT1 Q5: <a href="https://cs61a.org/exam/sp17/mt1/61a-sp17-mt1.pdf#page=7">Insert</a></li>
</ol>

<script>
    $('.alwaystoggle').css('display', 'inline-block');
    $('.alwaystoggle').click(function() {
      var solution_id = $(this).attr('id');
      $('div.' + solution_id).slideToggle(600);
    });
</script>


  </div>

  <div class='col-md-3 sticky'>
    <nav class='hidden-print hidden-sm hidden-xs sidebar'>
      <ul>
  <li><a href="#instructions">Instructions</a></li>
  <li><a href="#required-questions">Required Questions</a></li>
  <ul>
    <li><a href="#oop">OOP</a></li>
    <ul>
      <li><a href="#q1-vending-machine">Q1: Vending Machine</a></li>
    </ul>
    <li><a href="#linked-lists">Linked Lists</a></li>
    <ul>
      <li><a href="#q2-store-digits">Q2: Store Digits</a></li>
      <li><a href="#q3-mutable-mapping">Q3: Mutable Mapping</a></li>
    </ul>
    <li><a href="#mutable-trees">Mutable Trees</a></li>
    <ul>
      <li><a href="#q4-prune-small">Q4: Prune Small</a></li>
      <li><a href="#q5-delete">Q5: Delete</a></li>
    </ul>
    <li><a href="#check-your-score-locally">Check Your Score Locally</a></li>
  </ul>
  <li><a href="#submit-assignment">Submit Assignment</a></li>
  <li><a href="#optional-questions">Optional Questions</a></li>
  <ul>
    <li><a href="#q6-two-list">Q6: Two List</a></li>
  </ul>
  <li><a href="#exam-practice">Exam Practice</a></li>
</ul>
    </nav>
  </div>
</div>

    </main>

    <!-- <footer class="container">
      <div class="row text-center">
        <div class="col col-sm-4">
          <h3><a href="/">CS 61A</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/weekly">Weekly Schedule</a></li>
            <li><a href="/office-hours">Office Hours</a></li>
            <li><a href="/staff">Staff</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="/resources">Resources</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/articles/studying">Studying Guide</a></li>
            <li><a href="/articles/debugging">Debugging Guide</a></li>
            <li><a href="/articles/composition">Composition Guide</a></li>
            <li><a href="/articles/pair-programming">Pair Programming</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="/articles/about">Policies</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/articles/about#assignments">Assignments</a></li>
            <li><a href="/articles/about#exams">Exams</a></li>
            <li><a href="/articles/about#grading">Grading</a></li>
          </ul>
        </div>
      </div>
    </footer> -->

    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/loader.min.js"></script>
  <link rel="stylesheet" data-name="vs/editor/editor.main" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/editor/editor.main.min.css">
  <script>
      require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs' }});
      window.MonacoEnvironment = { getWorkerUrl: () => URL.createObjectURL(new Blob([`
      self.MonacoEnvironment = {
          baseUrl: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min'
      };
      importScripts('https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/base/worker/workerMain.min.js');
  `], { type: 'text/javascript' }))
  };
  </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsPlumb/2.15.5/js/jsplumb.min.js"></script>
    <script src="/assets/js/network_storage.js"></script>
    <script src="/assets/js/code_tabindex.js"></script>
    <script src="/assets/js/storable.js"></script>
    <script src="/assets/js/editor.js"></script>
    <script src="/assets/js/copy-button.js"></script>
    <script src="/assets/js/env-diagram.js"></script>
    
<!-- <script src="/assets/js/sketchy.js"></script> -->
<script>
  $('.sidebar ul').addClass('nav nav-stacked noselect');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });

  function goToId(id) {
    var target = $(id);
    target.parent().show();
    $('html,body').animate({
      scrollTop: target.offset().top,
    }, 100);
    $("body").scrollspy('refresh');
  }

  if (location.hash) {
    setTimeout(function() {
      if (location.hash) {
        goToId(location.hash);
      }
    }, 1);
  }

  $("a").click(function(event) {
    var urlBeforeHashRegEx = new RegExp("^"+window.location.href.split("#")[0]);
    if (/^#/.test(this.hash) && urlBeforeHashRegEx.test(this.href)) {
      event.preventDefault();
      goToId(this.hash);
      document.location.hash = this.hash;
    }
  });
</script>

  </body>
</html>