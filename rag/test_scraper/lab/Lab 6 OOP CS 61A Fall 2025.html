
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content ="CS 61A: Structure and Interpretation of Computer Programs" />
    <meta name="keywords" content ="Computer Science, Programming, Berkeley, EECS" />
    <meta name="author" content ="John DeNero, Kay Ousterhout" />
    <!-- CHANGED CAREFUL -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-throttle-debounce/1.1/jquery.ba-throttle-debounce.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="/assets/js/hl.js"></script>
    <script src="/assets/js/toggledarkmode.js"></script>
    <script>
        // we aren't registering builtins since
        //      (1) they don't render differently in the current CSS from other names
        //      (2) it's a mess to list all of them. You can extract from the site but that takes effort
        // if (1) ceases to be true, (2) might be worth the effort. For now, we're leaving as is
        hljsRegister({
            'keyword': "define if cond and or let begin lambda mu quote delay cons-stream set! quasiquote unquote unquote-splicing define-macro"
        });
        hljs.initHighlightingOnLoad();
    </script>
    <script src="/assets/js/dark-mode.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata|Roboto:300,400,500|Work+Sans:400,700">
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/mono-blue.css">
    <link rel="icon" href="/assets/images/favicon.ico">

    
    
    <link rel="stylesheet" href="/assets/css/lab.css">


    <title>
Lab 6: OOP | CS 61A Fall 2025
</title>
  </head>

  <body id="index" class="home">
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container noselect">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section" aria-label="Toggle Navigation Bar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">
            CS 61A
            <!-- <img style="max-width:60px; margin-top: -20px;" class="logo" src="/assets/images/logo.png"/> -->
          </a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">

            
            <li><a href="/">Lectures</a></li>
            
            <li><a href="/articles/about-61a/">Syllabus</a></li>
            
            <li><a href="https://edstem.org/us/courses/82739/discussion">Ed</a></li>
            
            <li><a href="/office-hours/">Office Hours</a></li>
            
            <li><a href="/articles/contact-61a/">Contact</a></li>
            

            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Links
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="https://go.cs61a.org/extensions">Request an Extension</a></li>
                
                <li><a href="https://go.cs61a.org/regrades">Request a Regrade</a></li>
                
                <li><a href="https://oh.cs61a.org/">Office Hours Queue</a></li>
                
                <li><a href="">Gradescope</a></li>
                
                <li><a href="https://sections.cs61a.org">Add/Change Sections</a></li>
                
                <li><a href="https://bcourses.berkeley.edu/courses/1547573/pages">Lecture Recordings</a></li>
                
                <li><a href="https://pythontutor.com/cp/composingprograms.html">Python Tutor</a></li>
                
                <li><a href="https://code.cs61a.org/">Code Editors</a></li>
                
              </ul>
            </li>
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Resources
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="/resources/">Past Exams & Websites</a></li>
                
                <li><a href="https://www.composingprograms.com">Textbook</a></li>
                
                <li><a href="/articles/campus-res/">Campus Resources</a></li>
                
                <li><a href="/articles/advice/">Advice from Students</a></li>
                
                <li><a href="/articles/scheme-spec/">Scheme Specifications</a></li>
                
                <li><a href="/articles/scheme-builtins/">Scheme Built-In Procedures</a></li>
                
              </ul>
            </li>
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Guides
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="https://drive.google.com/file/d/1O72u0ml65pibcjz-PXKpqeJDKaVqQ3D8/view">Debugging Guide</a></li>
                
                <li><a href="/articles/studying/">Studying Guide</a></li>
                
                <li><a href="/articles/type-hints/">Type Hints</a></li>
                
                <li><a href="/articles/composition/">Composition Guide</a></li>
                
                <li><a href="/assets/pdfs/61a-mt1-study-guide.pdf">MT1 Study Guide</a></li>
                
                <li><a href="/assets/pdfs/61a-mt2-study-guide.pdf">MT2 Study Guide</a></li>
                
                <li><a href="/assets/pdfs/61a-final-study-guide.pdf">Final Study Guide</a></li>
                
              </ul>
            </li>
            
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Staff
                <span class="caret"></span>
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                <li><a href="/instructor">Instructors</a></li>
                
                <li><a href="/staff">TAs & Tutors</a></li>
                
                <li><a href="/academic-interns">Academic Interns</a></li>
                
              </ul>
            </li>
            

          </ul>
        </div>
      </div>
    </nav>

    <main id="content" class="container">
      
<div class='row'>
  <div class='col-md-9'>
    <header>
      <h1>
        
Lab 6: OOP

        
        
        <ul class="inline-block list-inline">
          <li><a href="lab06.zip" class="label label-outline">lab06.zip</a></li>
        </ul>
        
        
      </h1>
    </header>
    

<p><i>Due by 11:59pm on Wednesday, October 15.</i></p>






<h2 id='starter-files'>Starter Files</h2>

<p>Download <a href="lab06.zip">lab06.zip</a>.</p>








    
<h1 id="attendance">Attendance</h1>


<p>If you are in a regular 61A lab, your TA will come around and check you in. You need to submit the lab problems in addition to attending to get credit for lab. If you are in the mega lab, you only need to submit the lab problems to get credit.</p>

<p>If you miss lab for a good reason (such as sickness or a scheduling conflict) or you don't get checked in for some reason, just fill out <a href="http://go.cs61a.org/lab-attendance">this form</a> within two weeks to receive attendance credit.</p>


<h1 id="required-questions">Required Questions</h1>



        <button id='toggle-1' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Getting Started Videos<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-1">


<h2 id="getting-started-videos" class="no-toc">Getting Started Videos</h2>


<p>These videos may provide some helpful direction for tackling the coding problems on this assignment.</p>

<blockquote><p>To see these videos, you should be logged into your berkeley.edu email.</p></blockquote>


            <iframe width="560" height="315" src="https://youtube.com/embed/videoseries?list=PLx38hZJ5RLZfrzyQvcEjb9j4RWMJRVbUB"
                frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" aria-label = "lab6-getstarted"
                allowfullscreen></iframe><p><a href='https://youtu.be/playlist?list=PLx38hZJ5RLZfrzyQvcEjb9j4RWMJRVbUB'> YouTube link </a></p>
</div>

<blockquote><p><strong>Note:</strong>
If you are facing issues with <strong>types</strong> in your code, add the following line <strong>at the very top</strong> of your <code>lab06.py</code> file:</p>

<pre><code class="python">from __future__ import annotations</code></pre>


<p>Alternatively, you can <strong>redownload the lab06 folder</strong> from the course website to ensure you have the latest files.</p></blockquote>


<h2 id="object-oriented-programming">Object-Oriented Programming</h2>


<p>Here's a refresher on Object-Oriented Programming. It's okay to skip directly to
the questions and refer back here if you get stuck.</p>


        <button id='toggle-2' class='btn btn-outline btn-lg alwaystoggle toggle'>
        Object-Oriented Programming<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-2">

<p><strong>Object-oriented programming</strong> (OOP) uses objects and classes to organize programs. Here's an example of a class:</p>

<pre><code>class Car:
    max_tires = 4

    def __init__(self, color):
        self.tires = Car.max_tires
        self.color = color

    def drive(self):
        if self.tires &lt; Car.max_tires:
            return self.color + &#x27; car cannot drive!&#x27;
        return self.color + &#x27; car goes vroom!&#x27;

    def pop_tire(self):
        if self.tires &gt; 0:
            self.tires &#x2d;= 1</code></pre>

<p><strong>Class</strong>: The type of an object. The <code>Car</code> class (shown above) describes the characteristics of all <code>Car</code>
  objects.</p>

<p><strong>Object</strong>: A single instance of a class. In Python, a new object is created by
  calling a class.</p>

<pre><code>&gt;&gt;&gt; ferrari = Car(&#x27;red&#x27;)</code></pre>

<p>Here, <code>ferrari</code> is a name bound to a <code>Car</code> object.</p>

<p><strong>Class attribute</strong>: A variable that belongs to a class and is accessed via dot notation. The <code>Car</code> class has a <code>max_tires</code> attribute.</p>

<pre><code>&gt;&gt;&gt; Car.max_tires
4</code></pre>

<page-break>

<p><strong>Instance attribute</strong>: A variable that belongs to a particular object. Each <code>Car</code> object has a <code>tires</code> attribute and a <code>color</code> attribute. Like class attributes, instance attributes are accessed via dot notation.</p>

<pre><code>&gt;&gt;&gt; ferrari.color
&#x27;red&#x27;
&gt;&gt;&gt; ferrari.tires
4
&gt;&gt;&gt; ferrari.color = &#x27;green&#x27;
&gt;&gt;&gt; ferrari.color
&#x27;green&#x27;</code></pre>

<p><strong>Method</strong>: A function that belongs to an object and is called via dot notation. By convention, the first parameter of a method is <code>self</code>.</p>

<p>When one of an object's methods is called, the object is implicitly provided as the argument for <code>self</code>. For example, the <code>drive</code> method of the <code>ferrari</code> object is called with empty parentheses because <code>self</code> is implicitly bound to the <code>ferrari</code> object.</p>

<pre><code>&gt;&gt;&gt; ferrari = Car(&#x27;red&#x27;)
&gt;&gt;&gt; ferrari.drive()
&#x27;red car goes vroom!&#x27;</code></pre>

<p>We can also call the original <code>Car.drive</code> function. The original function does not belong to any particular <code>Car</code> object, so we must provide an explicit argument for <code>self</code>.</p>

<pre><code>&gt;&gt;&gt; ferrari = Car(&#x27;red&#x27;)
&gt;&gt;&gt; Car.drive(ferrari)
&#x27;red car goes vroom!&#x27;</code></pre>

<p><strong>__init__</strong>: A special function that is called automatically when a new instance of a class is created.</p>

<p>Notice how the <code>drive</code> method takes in <code>self</code> as an argument, but it
  looks like we didn't pass one in! This is because the dot notation
  <em>implicitly</em> passes in <code>ferrari</code> as <code>self</code> for us. So in this example, <code>self</code> is bound to the
  object called <code>ferrari</code> in the global frame.</p>

<p>To evaluate the expression <code>Car(&#x27;red&#x27;)</code>, Python creates a new <code>Car</code> object. Then, Python calls the <code>__init__</code> function of the <code>Car</code> class with <code>self</code> bound to the new object and <code>color</code> bound to <code>&#x27;red&#x27;</code>.</p>

</div>


<h3 id="q1-bank-account">Q1: Bank Account</h3>


<p>Extend the <code>BankAccount</code> class to include a <code>transactions</code> attribute. This attribute should be a list that keeps track of each transaction made on the account. Whenever the <code>deposit</code> or <code>withdraw</code> method is called, a new <code>Transaction</code> instance should be created and added to the list, <strong>even if the action is not successful</strong>.</p>

<p>An instance of the <code>Transaction</code> class should have the following attributes:</p>

<ul>
  <li><code>before</code>: The account balance before the transaction.</li>
  <li><code>after</code>: The account balance after the transaction.</li>
  <li><code>id</code>: The transaction ID, which is the number of previous transactions (deposits or withdrawals) made on that account. The transaction IDs for a specific <code>BankAccount</code> instance must be unique, but this <code>id</code> does not need to be unique across all accounts. In other words, you only need to ensure that no two <code>Transaction</code> objects made by the same <code>BankAccount</code> have the same <code>id</code>.</li>
</ul>

<p>In addition, the <code>Transaction</code> class should have the following methods:</p>

<ul>
  <li><code>changed()</code>: Returns <code>True</code> if the balance changed (i.e., <code>before</code> is different from <code>after</code>), otherwise returns <code>False</code>.</li>
  <li><code>report()</code>: Returns a string describing the transaction. The string should start with the transaction ID and describe the change in balance. Take a look at the doctests for the expected output.</li>
</ul>

<solution>

<pre><code>class Transaction:
    def __init__(self, id: int, before: int, after: int):
        self.id = id
        self.before = before
        self.after = after

    def changed(self) &#x2d;&gt; bool:
        &quot;&quot;&quot;Return whether the transaction resulted in a changed balance.&quot;&quot;&quot;
        "*** YOUR CODE HERE ***"

    def report(self) &#x2d;&gt; str:
        &quot;&quot;&quot;Return a string describing the transaction.

        &gt;&gt;&gt; Transaction(3, 20, 10).report()
        &#x27;3: decreased 20&#x2d;&gt;10&#x27;
        &gt;&gt;&gt; Transaction(4, 20, 50).report()
        &#x27;4: increased 20&#x2d;&gt;50&#x27;
        &gt;&gt;&gt; Transaction(5, 50, 50).report()
        &#x27;5: no change&#x27;
        &quot;&quot;&quot;
        msg: str = &#x27;no change&#x27;
        if self.changed():
            "*** YOUR CODE HERE ***"
        return str(self.id) + &#x27;: &#x27; + msg

class BankAccount:
    &quot;&quot;&quot;A bank account that tracks its transaction history.

    &gt;&gt;&gt; a = BankAccount(&#x27;Eric&#x27;)
    &gt;&gt;&gt; a.deposit(100)    # Transaction 0 for a
    100
    &gt;&gt;&gt; b = BankAccount(&#x27;Erica&#x27;)
    &gt;&gt;&gt; a.withdraw(30)    # Transaction 1 for a
    70
    &gt;&gt;&gt; a.deposit(10)     # Transaction 2 for a
    80
    &gt;&gt;&gt; b.deposit(50)     # Transaction 0 for b
    50
    &gt;&gt;&gt; b.withdraw(10)    # Transaction 1 for b
    40
    &gt;&gt;&gt; a.withdraw(100)   # Transaction 3 for a
    &#x27;Insufficient funds&#x27;
    &gt;&gt;&gt; len(a.transactions)
    4
    &gt;&gt;&gt; len([t for t in a.transactions if t.changed()])
    3
    &gt;&gt;&gt; for t in a.transactions:
    ...     print(t.report())
    0: increased 0&#x2d;&gt;100
    1: decreased 100&#x2d;&gt;70
    2: increased 70&#x2d;&gt;80
    3: no change
    &gt;&gt;&gt; b.withdraw(100)   # Transaction 2 for b
    &#x27;Insufficient funds&#x27;
    &gt;&gt;&gt; b.withdraw(30)    # Transaction 3 for b
    10
    &gt;&gt;&gt; for t in b.transactions:
    ...     print(t.report())
    0: increased 0&#x2d;&gt;50
    1: decreased 50&#x2d;&gt;40
    2: no change
    3: decreased 40&#x2d;&gt;10
    &quot;&quot;&quot;

    # *** YOU NEED TO MAKE CHANGES IN SEVERAL PLACES IN THIS CLASS ***

    def __init__(self, account_holder: str):
        self.balance: int = 0
        self.holder = account_holder

    def deposit(self, amount: int) &#x2d;&gt; int:
        &quot;&quot;&quot;Increase the account balance by amount, add the deposit
        to the transaction history, and return the new balance.
        &quot;&quot;&quot;
        self.balance = self.balance + amount
        return self.balance

    def withdraw(self, amount: int) &#x2d;&gt; int | str:
        &quot;&quot;&quot;Decrease the account balance by amount, add the withdraw
        to the transaction history, and return the new balance.
        &quot;&quot;&quot;
        if amount &gt; self.balance:
            return &#x27;Insufficient funds&#x27;
        self.balance = self.balance &#x2d; amount
        return self.balance</code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q BankAccount<button id="copy-code-python3ok-qBankAccount" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qBankAccount").onclick = () => copyCode('python3 ok -q BankAccount', "copy-code-python3ok-qBankAccount");
        </script>
        <br/>


<h3 id="q2-email">Q2: Email</h3>


<p>An email system has three classes: <code>Email</code>, <code>Server</code>, and <code>Client</code>. A <code>Client</code> can
<code>compose</code> an email, which it will <code>send</code> to the <code>Server</code>. The <code>Server</code> then delivers it to the
<code>inbox</code> of another <code>Client</code>. To achieve this, a <code>Server</code> has a dictionary called
<code>clients</code> that maps the name of the <code>Client</code> to the <code>Client</code> instance.</p>

<p>Assume that a <code>Client</code> never changes the <code>Server</code> that it uses, and it can only compose an <code>Email</code> using that <code>Server</code>.</p>

<p>Fill in the definitions below to finish the implementation! The <code>Email</code> class
has been completed for you.</p>

<blockquote><p><strong>Important</strong>: Before you start, make sure you read the entire code snippet to understand the relationships between the classes, and pay attention to the parameter type of the methods. Think about what variables you have access to in each method and how can you use them to access the other classes and their methods.</p></blockquote>

<p><strong>Note:</strong></p>

<ul>
  <li>The <code>sender</code> parameter from the <code>__init__(self, msg, sender, recipient_name)</code> method in the <code>Email</code> class is a <code>Client</code> instance.</li>
  <li>The <code>client</code> parameter from the <code>register_client(self, client)</code> method in the <code>Server</code> class is a <code>Client</code> instance.</li>
  <li>The <code>email</code> parameter from the <code>send(self, email)</code> method in the <code>Server</code> class is an <code>Email</code> instance.</li>
</ul>

<solution>

<pre><code>class Email:
    &quot;&quot;&quot;An email has the following instance attributes:

        msg (str): the contents of the message
        sender (Client): the client that sent the email
        recipient_name (str): the name of the recipient (another client)
    &quot;&quot;&quot;
    def __init__(self, msg: str, sender, recipient_name: str):
        self.msg = msg
        self.sender = sender
        self.recipient_name = recipient_name

class Server:
    &quot;&quot;&quot;Each Server has one instance attribute called clients that is a
    dictionary from client names to client objects.

    &gt;&gt;&gt; s = Server()
    &gt;&gt;&gt; # Dummy client class implementation for testing only
    &gt;&gt;&gt; class Client:
    ...     def __init__(self, server, name):
    ...         self.inbox = []
    ...         self.server = server
    ...         self.name = name
    &gt;&gt;&gt; a = Client(s, &#x27;Alice&#x27;)
    &gt;&gt;&gt; b = Client(s, &#x27;Bob&#x27;)
    &gt;&gt;&gt; s.register_client(a) 
    &gt;&gt;&gt; s.register_client(b)
    &gt;&gt;&gt; len(s.clients)  # we have registered 2 clients
    2
    &gt;&gt;&gt; all([type(c) == str for c in s.clients.keys()])  # The keys in self.clients should be strings
    True
    &gt;&gt;&gt; all([type(c) == Client for c in s.clients.values()])  # The values in self.clients should be Client instances
    True
    &gt;&gt;&gt; new_a = Client(s, &#x27;Alice&#x27;)  # a new client with the same name as an existing client
    &gt;&gt;&gt; s.register_client(new_a)
    &gt;&gt;&gt; len(s.clients)  # the key of a dictionary must be unique
    2
    &gt;&gt;&gt; s.clients[&#x27;Alice&#x27;] is new_a  # the value for key &#x27;Alice&#x27; should now be updated to the new client new_a
    True
    &gt;&gt;&gt; e = Email(&quot;I love 61A&quot;, b, &#x27;Alice&#x27;)
    &gt;&gt;&gt; s.send(e)
    &gt;&gt;&gt; len(new_a.inbox)  # one email has been sent to new Alice
    1
    &gt;&gt;&gt; type(new_a.inbox[0]) == Email  # a Client&#x27;s inbox is a list of Email instances
    True
    &quot;&quot;&quot;
    def __init__(self):
        self.clients = {}

    def send(self, email: Email):
        &quot;&quot;&quot;Append the email to the inbox of the client it is addressed to.
            email is an instance of the Email class.
        &quot;&quot;&quot;
        ____.inbox.append(email)

    def register_client(self, client):
        &quot;&quot;&quot;Add a client to the clients mapping (which is a 
        dictionary from client names to client instances).
            client is an instance of the Client class.
        &quot;&quot;&quot;
        ____[____] = ____

class Client:
    &quot;&quot;&quot;A client has a server, a name (str), and an inbox (list).

    &gt;&gt;&gt; s = Server()
    &gt;&gt;&gt; a = Client(s, &#x27;Alice&#x27;)
    &gt;&gt;&gt; b = Client(s, &#x27;Bob&#x27;)
    &gt;&gt;&gt; a.compose(&#x27;Hello, World!&#x27;, &#x27;Bob&#x27;)
    &gt;&gt;&gt; b.inbox[0].msg
    &#x27;Hello, World!&#x27;
    &gt;&gt;&gt; a.compose(&#x27;CS 61A Rocks!&#x27;, &#x27;Bob&#x27;)
    &gt;&gt;&gt; len(b.inbox)
    2
    &gt;&gt;&gt; b.inbox[1].msg
    &#x27;CS 61A Rocks!&#x27;
    &gt;&gt;&gt; b.inbox[1].sender.name
    &#x27;Alice&#x27;
    &quot;&quot;&quot;
    def __init__(self, server: Server, name: str):
        self.inbox: list = []
        self.server = server
        self.name = name
        server.register_client(____)

    def compose(self, message: str, recipient_name: str):
        &quot;&quot;&quot;Send an email with the given message to the recipient.&quot;&quot;&quot;
        email = Email(message, ____, ____)
        self.server.send(email)</code></pre>

</solution>

<blockquote><p>There are two <code>ok</code> tests for this problem. Both tests must pass in order to receive full credit.
You should run them in the order they are presented.
The <code>python3 ok &#x2d;q Server</code> test will test the <code>Server</code> class implementation, and it does not require a correct implementation of the <code>Client</code> class.
The <code>python3 ok &#x2d;q Client</code> test will test both the <code>Server</code> and <code>Client</code> class implementations.
So, make sure to test your <code>Server</code> class implementation first before testing the <code>Client</code> class.</p></blockquote>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q Server
python3 ok -q Client<button id="copy-code-python3ok-qServerpython3ok-qClient" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qServerpython3ok-qClient").onclick = () => copyCode('python3 ok -q Server\npython3 ok -q Client', "copy-code-python3ok-qServerpython3ok-qClient");
        </script>
        <br/>


<h2 id="inheritance">Inheritance</h2>


<p>Two classes may have similar attributes, but one represents a special case of the other. For example, a <code>Nickel</code> is a special case of a <code>Coin</code>. We say that <code>Nickel</code> is a subclass of <code>Coin</code>, and <code>Coin</code> is the base class (or superclass) for <code>Nickel</code>. In Python, the line <code>class Nickel(Coin):</code> establishes this relationship.</p>

<pre><code>class Coin:
    cents = None  # This will be provided by subclasses, but not by Coin itself

    def __init__(self, year):
        self.year = year

class Nickel(Coin):
    cents = 5</code></pre>



<p>The methods of <code>Coin</code> (such as <code>__init__</code>) are also methods for <code>Nickel</code>. So, for example, each <code>Nickel</code> instance has a <code>year</code> attribute. But class attributes or methods defined in the <code>Nickel</code> class will be found first.</p>

<pre><code>&gt;&gt;&gt; c = Nickel(1990)
&gt;&gt;&gt; c.year
1990
&gt;&gt;&gt; c.cents
5</code></pre>




<h3 id="q3-mint">Q3: Mint</h3>


<p>A mint is a place where coins are made. In this question, you'll implement a <code>Mint</code> class that can output a <code>Coin</code> with the correct year and worth.</p>

<ul>
  <li>Each <code>Mint</code> instance has a <code>year</code> stamp. The <code>update</code> method sets the
  <code>year</code> stamp of the instance to the <code>present_year</code> class attribute of the <code>Mint</code> <em>class</em>.</li>
  <li>The <code>create</code> method takes a subclass of <code>Coin</code> (<em>not</em> an instance!), then
  creates and returns an instance of that subclass stamped with the <code>Mint</code>'s year (which may be different from
  <code>Mint.present_year</code> if it has not been updated.)</li>
  <li>A <code>Coin</code>'s <code>worth</code> method returns the <code>cents</code> value of the coin plus one
  extra cent for each year of age beyond 50. A coin's age can be determined
  by subtracting the coin's year from the <code>present_year</code> class attribute of
  the <code>Mint</code> class.</li>
</ul>

<solution>

<pre><code>class Mint:
    &quot;&quot;&quot;A mint creates coins by stamping on years.

    The update method sets the mint&#x27;s stamp to Mint.present_year.

    &gt;&gt;&gt; mint = Mint()
    &gt;&gt;&gt; mint.year
    2025
    &gt;&gt;&gt; dime = mint.create(Dime)
    &gt;&gt;&gt; dime.year
    2025
    &gt;&gt;&gt; Mint.present_year = 2105  # Time passes
    &gt;&gt;&gt; nickel = mint.create(Nickel)
    &gt;&gt;&gt; nickel.year     # The mint has not updated its stamp yet
    2025
    &gt;&gt;&gt; nickel.worth()  # 5 cents + (80 &#x2d; 50 years)
    35
    &gt;&gt;&gt; mint.update()   # The mint&#x27;s year is updated to 2105
    &gt;&gt;&gt; Mint.present_year = 2180     # More time passes
    &gt;&gt;&gt; mint.create(Dime).worth()    # 10 cents + (75 &#x2d; 50 years)
    35
    &gt;&gt;&gt; Mint().create(Dime).worth()  # A new mint has the current year
    10
    &gt;&gt;&gt; dime.worth()     # 10 cents + (155 &#x2d; 50 years)
    115
    &gt;&gt;&gt; Dime.cents = 20  # Upgrade all dimes!
    &gt;&gt;&gt; dime.worth()     # 20 cents + (155 &#x2d; 50 years)
    125
    &quot;&quot;&quot;
    present_year = 2025

    def __init__(self):
        self.update()

    def create(self, coin):
        "*** YOUR CODE HERE ***"

    def update(self) &#x2d;&gt; None:
        "*** YOUR CODE HERE ***"

class Coin:
    cents = None # will be provided by subclasses, but not by Coin itself

    def __init__(self, year: int):
        self.year = year

    def worth(self) &#x2d;&gt; int:
        "*** YOUR CODE HERE ***"

class Nickel(Coin):
    cents = 5

class Dime(Coin):
    cents = 10</code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q Mint<button id="copy-code-python3ok-qMint" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qMint").onclick = () => copyCode('python3 ok -q Mint', "copy-code-python3ok-qMint");
        </script>
        <br/>


<h2 id="check-your-score-locally">Check Your Score Locally</h2>

<p>You can locally check your score on each question of this assignment by running</p>

<pre><code>python3 ok &#x2d;&#x2d;score</code></pre>

<p><strong>This does NOT submit the assignment!</strong> When you are satisfied with your score, submit the assignment to Pensieve to receive credit for it.</p>


<h1 id="submit-assignment">Submit Assignment</h1>


<p>Submit this assignment by uploading any files you've edited <strong>to the appropriate Pensieve assignment.</strong> <a href="../lab00/#submit-with-pensieve">Lab 00</a> has detailed instructions.</p>

<p>Correctly completing all questions is worth one point. If you are in the regular lab, you will need your attendance from your TA to receive that one point. Please ensure your TA has taken your attendance before leaving.</p>


<h1 id="optional-questions">Optional Questions</h1>


<blockquote><p>These questions are optional. If you don't complete them, you will
still receive credit for this assignment. They are great practice, so do them
anyway!</p></blockquote>


<h3 id="q4-next-virahanka-fibonacci-object">Q4: Next Virahanka Fibonacci Object</h3>


<p>Implement the <code>next</code> method of the <code>VirFib</code> class. For this class, the <code>value</code>
attribute is a Fibonacci number. The <code>next</code> method returns a <code>VirFib</code> instance
whose <code>value</code> is the next Fibonacci number. The <code>next</code> method should take only
constant time.</p>

<p>Note that in the doctests, nothing is being printed out. Rather, each call to
<code>.next()</code> returns a <code>VirFib</code> instance. The way each <code>VirFib</code> instance is displayed is
determined by the return value of its <code>__repr__</code> method.</p>

<blockquote><p><em>Hint</em>: Keep track of the previous number by setting a new instance attribute
inside <code>next</code>. You can create new instance attributes for objects at any point,
even outside the <code>__init__</code> method.</p></blockquote>

<solution>

<pre><code>class VirFib():
    &quot;&quot;&quot;A Virahanka Fibonacci number.

    &gt;&gt;&gt; start = VirFib()
    &gt;&gt;&gt; start
    VirFib object, value 0
    &gt;&gt;&gt; start.next()
    VirFib object, value 1
    &gt;&gt;&gt; start.next().next()
    VirFib object, value 1
    &gt;&gt;&gt; start.next().next().next()
    VirFib object, value 2
    &gt;&gt;&gt; start.next().next().next().next()
    VirFib object, value 3
    &gt;&gt;&gt; start.next().next().next().next().next()
    VirFib object, value 5
    &gt;&gt;&gt; start.next().next().next().next().next().next()
    VirFib object, value 8
    &gt;&gt;&gt; start.next().next().next().next().next().next() # Ensure start isn&#x27;t changed
    VirFib object, value 8
    &quot;&quot;&quot;

    def __init__(self, value: int = 0):
        self.value = value

    def next(self):
        "*** YOUR CODE HERE ***"

    def __repr__(self) &#x2d;&gt; str:
        return &quot;VirFib object, value &quot; + str(self.value)</code></pre>

</solution>

<p>Use Ok to test your code:</p><pre style="margin-bottom:0;"><code class="nohighlight">python3 ok -q VirFib<button id="copy-code-python3ok-qVirFib" class="inline-copy-button"><div class="copy-tooltip"><span>Copy</span></div>✂️</a></code></pre>
        <script>
        document.getElementById("copy-code-python3ok-qVirFib").onclick = () => copyCode('python3 ok -q VirFib', "copy-code-python3ok-qVirFib");
        </script>
        <br/>


<script>
    $('.alwaystoggle').css('display', 'inline-block');
    $('.alwaystoggle').click(function() {
      var solution_id = $(this).attr('id');
      $('div.' + solution_id).slideToggle(600);
    });
</script>

  </div>

  <div class='col-md-3 sticky'>
    <nav class='hidden-print hidden-sm hidden-xs sidebar'>
      <ul>
  <li><a href="#attendance">Attendance</a></li>
  <li><a href="#required-questions">Required Questions</a></li>
  <ul>
    <li><a href="#object-oriented-programming">Object-Oriented Programming</a></li>
    <ul>
      <li><a href="#q1-bank-account">Q1: Bank Account</a></li>
      <li><a href="#q2-email">Q2: Email</a></li>
    </ul>
    <li><a href="#inheritance">Inheritance</a></li>
    <ul>
      <li><a href="#q3-mint">Q3: Mint</a></li>
    </ul>
    <li><a href="#check-your-score-locally">Check Your Score Locally</a></li>
  </ul>
  <li><a href="#submit-assignment">Submit Assignment</a></li>
  <li><a href="#optional-questions">Optional Questions</a></li>
  <ul>
    <li><a href="#q4-next-virahanka-fibonacci-object">Q4: Next Virahanka Fibonacci Object</a></li>
  </ul>
</ul>
    </nav>
  </div>
</div>

    </main>

    <!-- <footer class="container">
      <div class="row text-center">
        <div class="col col-sm-4">
          <h3><a href="/">CS 61A</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/weekly">Weekly Schedule</a></li>
            <li><a href="/office-hours">Office Hours</a></li>
            <li><a href="/staff">Staff</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="/resources">Resources</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/articles/studying">Studying Guide</a></li>
            <li><a href="/articles/debugging">Debugging Guide</a></li>
            <li><a href="/articles/composition">Composition Guide</a></li>
            <li><a href="/articles/pair-programming">Pair Programming</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="/articles/about">Policies</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="/articles/about#assignments">Assignments</a></li>
            <li><a href="/articles/about#exams">Exams</a></li>
            <li><a href="/articles/about#grading">Grading</a></li>
          </ul>
        </div>
      </div>
    </footer> -->

    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/loader.min.js"></script>
  <link rel="stylesheet" data-name="vs/editor/editor.main" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/editor/editor.main.min.css">
  <script>
      require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs' }});
      window.MonacoEnvironment = { getWorkerUrl: () => URL.createObjectURL(new Blob([`
      self.MonacoEnvironment = {
          baseUrl: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min'
      };
      importScripts('https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.20.0/min/vs/base/worker/workerMain.min.js');
  `], { type: 'text/javascript' }))
  };
  </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsPlumb/2.15.5/js/jsplumb.min.js"></script>
    <script src="/assets/js/network_storage.js"></script>
    <script src="/assets/js/code_tabindex.js"></script>
    <script src="/assets/js/storable.js"></script>
    <script src="/assets/js/editor.js"></script>
    <script src="/assets/js/copy-button.js"></script>
    <script src="/assets/js/env-diagram.js"></script>
    
<!-- <script src="/assets/js/sketchy.js"></script> -->
<script>
  $('.sidebar ul').addClass('nav nav-stacked noselect');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });

  function goToId(id) {
    var target = $(id);
    target.parent().show();
    $('html,body').animate({
      scrollTop: target.offset().top,
    }, 100);
    $("body").scrollspy('refresh');
  }

  if (location.hash) {
    setTimeout(function() {
      if (location.hash) {
        goToId(location.hash);
      }
    }, 1);
  }

  $("a").click(function(event) {
    var urlBeforeHashRegEx = new RegExp("^"+window.location.href.split("#")[0]);
    if (/^#/.test(this.hash) && urlBeforeHashRegEx.test(this.href)) {
      event.preventDefault();
      goToId(this.hash);
      document.location.hash = this.hash;
    }
  });
</script>

  </body>
</html>